!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="javascripts/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var o=n(2),r=n(3),i=n(4),l=n(5)("AIzaSyC1gVJNHFiTxClJkJ9NJgMAV0SzeemMoy0"),a=document.querySelector(".locations-list"),c=document.querySelector(".map"),s=void 0,u=o.map(function(e){var t=document.createElement("li"),n=document.createElement("a"),o={slug:i(e.site).toLowerCase().replace(/\'/,""),locationName:e.site,lat:e.lat,lng:e.lng},r=document.createTextNode(""+o.locationName);return n.href="#"+o.slug,n.id=""+o.slug,n.dataset.lat=o.lat,n.dataset.lng=o.lng,n.addEventListener("click",function(e){e.preventDefault(),window.location.hash="#"+e.target.id}),n.appendChild(r),t.appendChild(n),a.appendChild(t),n}),f=function(){return{lat:Number(u[0].dataset.lat),lng:Number(u[0].dataset.lng)}};l().then(function(e){s=new google.maps.Map(c,{mapTypeId:"roadmap",zoom:15,styles:r,center:f(),disableDefaultUI:!0})});var p=function(){var e=document.querySelector(window.location.hash),t=e.dataset;s.setCenter({lat:Number(t.lat),lng:Number(t.lng)})};window.addEventListener("hashchange",p,!1)},function(e,t){e.exports=[{city:"Birmingham",site:"Aston Expressway",postcode:"B6 4BE",lng:-1.888328,lat:52.492869},{city:"Birmingham",site:"Birmingham Broad Street",postcode:"B1 2JZ",lng:-1.909489,lat:52.478378},{city:"Birmingham",site:"Birmingham Bullring South",postcode:"B5 4BU",lng:-1.890728,lat:52.475912},{city:"Leeds",site:"Northern Light Outbound",postcode:"LS10 1PL",lng:-1.529977,lat:53.785133},{city:"Leeds",site:"Leeds Trinity",postcode:"LS2 7HY",lng:-1.545172,lat:53.797375},{city:"London",site:"Eat Street",postcode:"W12 7GF",lng:-.219053,lat:51.505749},{city:"London",site:"The Street Totem",postcode:"E20 1EJ",lng:-.0073127,lat:51.542869},{city:"Manchester",site:"Manchester Media Wall",postcode:"M3 1AR",lng:-2.248249,lat:53.488422},{city:"London",site:"Trinity Wandsworth",postcode:"SW18 2QX",lng:-.181688,lat:51.457993},{city:"Glasgow",site:"Glasgow Eatsern Gateway",postcode:"G40 3NY",lng:-4.211259,lat:55.848318},{city:"Glasgow",site:"Glasgow Quayside CityScreen",postcode:"G5 8RE",lng:-4.273521,lat:55.85379},{city:"Glasgow",site:"Glasgow Western Gateway",postcode:"G12 0AU",lng:-4.321835,lat:55.888369},{city:"Glasgow",site:"Glasgow Northern Gateway",postcode:"G22 6NA",lng:-4.258348,lat:55.888131},{city:"London",site:"M25 Northbound",postcode:"SL3 0EN",lng:-.503471,lat:51.480365},{city:"London",site:"Vanguard Eastbound 1",postcode:"UB6 8DG",lng:-.307856,lat:51.532139},{city:"London",site:"Vanguard Eastbound 2",postcode:"UB6 8DG",lng:-.307856,lat:51.532139},{city:"London",site:"M4 Tower",postcode:"TW8 9JY",lng:-.3113667,lat:51.4890831},{city:"London",site:"Hammersmith Tower",postcode:"W6 8DE",lng:-.2177113,lat:51.4912101},{city:"London",site:"Swandon Way Landmark",postcode:"SW18 1SL",lng:-.191102,lat:51.4605834},{city:"London",site:"East Hill Tower",postcode:"SW18 2HT",lng:-.18217,lat:51.4591},{city:"London",site:"Southbank SE1",postcode:"SE1 8TX",lng:-.11378,lat:51.50575},{city:"London",site:"Marylebone Tower",postcode:"W2 1DY",lng:-.1699,lat:51.52025},{city:"London",site:"M4 Torch",postcode:"TW8 1AP",lng:-.3113667,lat:51.4890831},{city:"London",site:"Holland Park Tower",postcode:"W12 8LW",lng:-.21707,lat:51.50419},{city:"London",site:"Cromwell Road Digital Gateway",postcode:"W14 9AB",lng:-.20155,lat:51.4923634},{city:"Manchester",site:"Trafford Tower",postcode:"M15 4WB",lng:-2.2671917,lat:53.46939},{city:"Glasgow Central",site:"Glasow Central Transvision",postcode:"G2 8HA",lng:-4.25791,lat:55.85849},{city:"Leeds",site:"Leeds Transvision",postcode:"LS1 4SP",lng:-1.54635,lat:53.7946},{city:"Birmingham International",site:"Birmingham International Transvision",postcode:"B40 1PJ",lng:-1.72544,lat:52.45096},{city:"London",site:"Old Kent Road D96",postcode:"SE1 5EW",lng:-.066344,lat:51.484208},{city:"Manchester",site:"Deansgate Live",postcode:"M3 4LY",lng:-2.251854,lat:53.47498},{city:"Leeds",site:"Leeds Central",postcode:"LS1 1RF",lng:-1.564126,lat:53.796305},{city:"london",site:"Shoreditch High Street",postcode:"E1 6HP",lng:-.077652,lat:51.524447}]},function(e,t){e.exports=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6d6d6"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:2}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#8a8a8a"},{lightness:80}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},function(e,t,n){!function(t,n,o){e.exports=o()}("slugify",this,function(){function e(e,n){return e.split("").reduce(function(e,n){return t[n]&&(n=t[n]),n=n.replace(/[^\w\s$*_+~.()'"!\-:@]/g,""),e+=n},"").replace(/^\s+|\s+$/g,"").replace(/[-\s]+/g,n||"-").replace("#{replacement}$","")}var t={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"SS","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"h","ώ":"w","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"H","Ώ":"W","Ϊ":"I","Ϋ":"Y","ş":"s","Ş":"S","ı":"i","İ":"I","ç":"c","Ç":"C","ü":"u","Ü":"U","ö":"o","Ö":"O","ğ":"g","Ğ":"G","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Š":"S","Ū":"u","Ž":"Z","€":"euro","₢":"cruzeiro","₣":"french franc","£":"pound","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","¢":"cent","¥":"yen","元":"yuan","円":"yen","﷼":"rial","₠":"ecu","¤":"currency","฿":"baht",$:"dollar","©":"(c)","œ":"oe","Œ":"OE","∑":"sum","®":"(r)","†":"+","“":'"',"”":'"',"‘":"'","’":"'","∂":"d","ƒ":"f","™":"tm","℠":"sm","…":"...","˚":"o","º":"o","ª":"a","•":"*","∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less",">":"greater"};return e.extend=function(e){for(var n in e)t[n]=e[n]},e})},function(e,t,n){function o(e,t,n,o){o?(t(o),n&&n(o)):(e(a),n&&n(void 0,a))}var r,i=n(6),l=n(7),a=null,c=[];window.$$mapsCB=function(){a=google.maps;for(var e=0,t=c.length;t>e;e++)o.apply(void 0,c[e])},e.exports=function(e,t,n){return r=e||r,"function"==typeof t&&(n=t,t=[]),function(){return new l(function(e,l){if(r){if(a)o(e,l,n);else if(c.push([e,l,n]),1==c.length){var s="";"string"==typeof r?s="&key="+r:"object"==typeof r&&(s="&"+Object.keys(r).map(function(e){return e+"="+encodeURIComponent(r[e])}).join("&"));var u="https://maps.googleapis.com/maps/api/js?v=3&callback=$$mapsCB"+s;Array.isArray(t)&&t.length>0&&(u+="&libraries="+t.join(",")),i(u)}}else o(e,l,n,new Error("No API key passed to require('google-maps-api')"))})}}},function(e,t,n){var o,r;/*!
	  * $script.js JS loader & dependency manager
	  * https://github.com/ded/script.js
	  * (c) Dustin Diaz 2014 | License MIT
	  */
!function(i,l){"undefined"!=typeof e&&e.exports?e.exports=l():(o=l,r="function"==typeof o?o.call(t,n,t,e):o,!(void 0!==r&&(e.exports=r)))}("$script",function(){function e(e,t){for(var n=0,o=e.length;o>n;++n)if(!t(e[n]))return c;return 1}function t(t,n){e(t,function(e){return!n(e)})}function n(i,l,a){function c(e){return e.call?e():p[e]}function u(){if(!--T){p[g]=1,m&&m();for(var n in d)e(n.split("|"),c)&&!t(d[n],c)&&(d[n]=[])}}i=i[s]?i:[i];var f=l&&l.call,m=f?l:a,g=f?i.join(""):l,T=i.length;return setTimeout(function(){t(i,function e(t,n){return null===t?u():(n||/^https?:\/\//.test(t)||!r||(t=-1===t.indexOf(".js")?r+t+".js":r+t),h[t]?(g&&(y[g]=1),2==h[t]?u():setTimeout(function(){e(t,!0)},0)):(h[t]=1,g&&(y[g]=1),void o(t,u)))})},0),n}function o(e,t){var n,o=l.createElement("script");o.onload=o.onerror=o[f]=function(){o[u]&&!/^c|loade/.test(o[u])||n||(o.onload=o[f]=null,n=1,h[e]=2,t())},o.async=1,o.src=i?e+(-1===e.indexOf("?")?"?":"&")+i:e,a.insertBefore(o,a.lastChild)}var r,i,l=document,a=l.getElementsByTagName("head")[0],c=!1,s="push",u="readyState",f="onreadystatechange",p={},y={},d={},h={};return n.get=o,n.order=function(e,t,o){!function r(i){i=e.shift(),e.length?n(i,r):n(i,t,o)}()},n.path=function(e){r=e},n.urlArgs=function(e){i=e},n.ready=function(o,r,i){o=o[s]?o:[o];var l=[];return!t(o,function(e){p[e]||l[s](e)})&&e(o,function(e){return p[e]})?r():!function(e){d[e]=d[e]||[],d[e][s](r),i&&i(l)}(o.join("|")),n},n.done=function(e){n([null],e)},n})},function(e,t,n){"use strict";e.exports=n(8),n(12),n(13),n(14)},function(e,t,n){"use strict";function o(e){function t(e){return null===c?void u.push(e):void l(function(){var t=c?e.onFulfilled:e.onRejected;if(null===t)return void(c?e.resolve:e.reject)(s);var n;try{n=t(s)}catch(o){return void e.reject(o)}e.resolve(n)})}function n(e){try{if(e===f)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void i(t.bind(e),n,o)}c=!0,s=e,a()}catch(r){o(r)}}function o(e){c=!1,s=e,a()}function a(){for(var e=0,n=u.length;n>e;e++)t(u[e]);u=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var c=null,s=null,u=[],f=this;this.then=function(e,n){return new f.constructor(function(o,i){t(new r(e,n,o,i))})},i(e,n,o)}function r(e,t,n,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=o}function i(e,t,n){var o=!1;try{e(function(e){o||(o=!0,t(e))},function(e){o||(o=!0,n(e))})}catch(r){if(o)return;o=!0,n(r)}}var l=n(9);e.exports=o},function(e,t,n){(function(t,n){function o(){for(;i.next;){i=i.next;var e=i.task;i.task=void 0;var t=i.domain;t&&(i.domain=void 0,t.enter());try{e()}catch(n){if(s)throw t&&t.exit(),setTimeout(o,0),t&&t.enter(),n;setTimeout(function(){throw n},0)}t&&t.exit()}a=!1}function r(e){l=l.next={task:e,domain:s&&t.domain,next:null},a||(a=!0,c())}var i={task:void 0,next:null},l=i,a=!1,c=void 0,s=!1;if("undefined"!=typeof t&&t.nextTick)s=!0,c=function(){t.nextTick(o)};else if("function"==typeof n)c="undefined"!=typeof window?n.bind(window,o):function(){n(o)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=o,c=function(){u.port2.postMessage(0)}}else c=function(){setTimeout(o,0)};e.exports=r}).call(t,n(10),n(11).setImmediate)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function l(){h&&y&&(h=!1,y.length?d=y.concat(d):m=-1,d.length&&a())}function a(){if(!h){var e=r(l);h=!0;for(var t=d.length;t;){for(y=d,d=[];++m<t;)y&&y[m].run();m=-1,t=d.length}y=null,h=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var u,f,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var y,d=[],h=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new c(e,t)),1!==d.length||h||r(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){(function(e,o){function r(e,t){this._id=e,this._clearFn=t}var i=n(10).nextTick,l=Function.prototype.apply,a=Array.prototype.slice,c={},s=0;t.setTimeout=function(){return new r(l.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(l.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=s++,o=arguments.length<2?!1:a.call(arguments,1);return c[n]=!0,i(function(){c[n]&&(o?e.apply(null,o):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof o?o:function(e){delete c[e]}}).call(t,n(11).setImmediate,n(11).clearImmediate)},function(e,t,n){"use strict";var o=n(8),r=n(9);e.exports=o,o.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){r(function(){throw e})})}},function(e,t,n){"use strict";function o(e){this.then=function(t){return"function"!=typeof t?this:new r(function(n,o){i(function(){try{n(t(e))}catch(r){o(r)}})})}}var r=n(8),i=n(9);e.exports=r,o.prototype=r.prototype;var l=new o(!0),a=new o(!1),c=new o(null),s=new o(void 0),u=new o(0),f=new o("");r.resolve=function(e){if(e instanceof r)return e;if(null===e)return c;if(void 0===e)return s;if(e===!0)return l;if(e===!1)return a;if(0===e)return u;if(""===e)return f;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(n){return new r(function(e,t){t(n)})}return new o(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){function o(i,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var a=l.then;if("function"==typeof a)return void a.call(l,function(e){o(i,e)},n)}t[i]=l,0===--r&&e(t)}catch(c){n(c)}}if(0===t.length)return e([]);for(var r=t.length,i=0;i<t.length;i++)o(i,t[i])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype["catch"]=function(e){return this.then(null,e)}},function(e,t,n){"use strict";var o=n(8),r=n(9);e.exports=o,o.denodeify=function(e,t){return t=t||1/0,function(){var n=this,r=Array.prototype.slice.call(arguments);return new o(function(o,i){for(;r.length&&r.length>t;)r.pop();r.push(function(e,t){e?i(e):o(t)});var l=e.apply(n,r);!l||"object"!=typeof l&&"function"!=typeof l||"function"!=typeof l.then||o(l)})}},o.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,i=this;try{return e.apply(this,arguments).nodeify(n,i)}catch(l){if(null===n||"undefined"==typeof n)return new o(function(e,t){t(l)});r(function(){n.call(i,l)})}}},o.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(n){r(function(){e.call(t,null,n)})},function(n){r(function(){e.call(t,n)})})}}]);